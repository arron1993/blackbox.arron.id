<ng-container *ngIf="session">
  <div class="row no-gutters">
    <div class="col-12">
      <h1>{{ session.circuit.name }} - {{ session.car.name }}</h1>
    </div>
    <div class="col-12">
      <h4>{{ session.created_at }}</h4>
    </div>
  </div>
  <div class="row no-gutters mt-2">
    <div class="col-12">
      <table
        class="table table-hover"
        *ngIf="session.stints.length > 0; else noLapsRecorded"
      >
        <thead>
          <tr>
            <th>Stint</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stint of session.stints; let i = index">
            <td>
              {{ i + 1 }}
              <table class="table">
                <thead>
                  <th>Lap</th>
                  <th>Time</th>
                  <th>Sector 1</th>
                  <th>Sector 2</th>
                  <th>Sector 3</th>
                  <th>Delta</th>
                  <th>Fuel Usage</th>
                  <th>Position</th>
                  <th>Valid</th>
                </thead>
                <tr *ngFor="let lap of stint.laps">
                  <td>{{ lap.number }}</td>
                  <td>{{ convertTime(lap.time) }}</td>
                  <td>{{ convertTime(lap.sector1) }}</td>
                  <td>{{ convertTime(lap.sector2 - lap.sector1) }}</td>
                  <td>{{ convertTime(lap.sector3 - lap.sector2) }}</td>
                  <td>{{ convertTime(lap.delta_time) }}</td>
                  <td>{{ lap.fuel_used }}</td>
                  <td>{{ lap.position }}</td>
                  <td>{{ lap.is_valid }}</td>
                </tr>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <ng-template #noLapsRecorded>
        <p>No laps recorded</p>
      </ng-template>
    </div>
  </div>
</ng-container>
